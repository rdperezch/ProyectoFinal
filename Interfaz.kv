#:import SlideTransition kivy.uix.screenmanager.SlideTransition 
#:import SwapTransition kivy.uix.screenmanager.SwapTransition 
#:import WipeTransition kivy.uix.screenmanager.WipeTransition 
#:import FadeTransition kivy.uix.screenmanager.FadeTransition 
#:import RiseInTransition kivy.uix.screenmanager.RiseInTransition 
#:import FallOutTransition kivy.uix.screenmanager.FallOutTransition 
#:import NoTransition kivy.uix.screenmanager.NoTransition 

<Titulo@Label> 
	markup: True
	text_size: self.size
	color: 0,0,255,0.8
	halign: 'center'
	bold: True
	valign: 'top' 
	font_size: 20
<Boton@Button>:  #botones Formato centrico default
	color: 1,2,1
	background_normal: "data/bluebut2.png"
	background_down: "data/bluebut2l.png"
	size_hint: (0.250, 0.1)
	pos_hint:{'center_x': .5,'center_y': .5} 
<BotonM@Button>:  #botones Formato centrico default
	color: 1,2,1
	background_normal: "data/bluebut2.png"
	background_down: "data/bluebut2l.png"
	size_hint: (0.275, 0.150)
	pos_hint:{'center_x': .5,'center_y': .5} 
<BotonAtras@Button>:  #Boton atras REGRESA A TU PAGINA ANTERIOR
	text: 'Atras'
	background_normal: "data/redbut2.jpg"
	background_down: "data/redbut2.jpg"
	border: 20,20,20,20
	color: (0,0,0,1)
	size_hint:(0.250, 0.1)
	pos_hint:{'center_x': .150,'center_y': .1}	
<stats@Label>:
	pos_hint:{'center_x': .8,'center_y': .4}
<log@Label>
	font_size: 10
	pos_hint:{'center_x': .820,'center_y': .980}
	

ScreenManagement:
	transition: SlideTransition()
	Intro:
	Registro:
	Menu:
	Materias:
	Calendario:
	Perfil:
	Eventos:
	Registro2:
	
	
<Intro>:
	name: "intro"
	username_b: username_i
    password_b: password_i
	canvas.before:
		BorderImage:
			texture: self.background_image.texture
			pos: self.pos
			size: self.size
	AnchorLayout:
		anchor_x: "center"
        anchor_y: "top"
		Image:
			size_hint: None, None
			size: (root.width, root.height/2)
			source: "data/logo_uip2.png"
	BoxLayout:
		orientation: "vertical"
		height: "80dp"
		size_hint_y: .7
		GridLayout:
			row_default_height: "30dp"
			row_force_default: True
			spacing: "10dp"
			padding: "20dp"
			cols: 2
			Label:
				bold: True
				font_size: 15
				text: "Username:"
			TextInput:
				id: username_i
			Label:
				bold: True
				font_size: 15
				text: "Password:"
			TextInput:
				id: password_i
				password: True
	stats:
		id: stats
	Boton:
		text: "Conectar"
		size_hint: (0.3, 0.1)
		pos_hint:{'center_x': .5,'center_y': .350} 
		on_press: 
			root.login()
	Boton:
		text: "Registrarse"
		size_hint: (0.3, 0.1)
		pos_hint:{'center_x': .5,'center_y': .220} 
		on_press: app.root.current = "registro"
			
<Registro>:
	name: "registro"
	nombre_b: nombre_i
	apellido_b: apellido_i
	seg_nombre_b: seg_nombre_i
	cedula_b: cedula_i
	seg_apellido_b: seg_apellido_i
	canvas.before:
		BorderImage:
			texture: self.background_image.texture
			pos: self.pos
			size: self.size
	AnchorLayout:
		anchor_x: "left"
        anchor_y: "top"
		Image:
			size_hint: None, None
			size: (root.width/4, root.height/4)
			source: "data/logo_uip2ALL.png"
	AnchorLayout:
		padding: 20
		Titulo:
			text: "[color=00BFFF]Registro[/color]"
	BoxLayout:
		orientation: "vertical"
		height: "100dp"
		size_hint_y: .825
		GridLayout:
			row_default_height: "30dp"
			row_force_default: True
			spacing: "10dp"
			padding: "20dp"
			cols: 2
			Label:
				bold: True
				text: "Cedula:"
			TextInput:
				id: cedula_i
			Label:
				bold: True
				text: "Primer Nombre:"
			TextInput:
				id: nombre_i
			Label:
				bold: True
				text: "Segundo Nombre:"
			TextInput:
				id: seg_nombre_i
			Label:
				bold: True
				text: "Primer Apellido:"
			TextInput:
				id: apellido_i
			Label:
				bold: True
				text: "Segundo Apellido:"
			TextInput:
				id: seg_apellido_i
	Boton: 
		text: "Registrarme"
		size_hint:(0.3, 0.1)
		pos_hint:{'center_x': .7,'center_y': .1}
		on_press: 
			root.regis()
	BotonAtras:
		on_press: app.root.current = "intro"
		
<Registro2>:
	name: "registro2"


<Menu>:
	name: "menu"
	on_enter:
		root.login()
	canvas.before:
		BorderImage:
			texture: self.background_image.texture
			pos: self.pos
			size: self.size
	AnchorLayout:
		anchor_x: "left"
        anchor_y: "top"
		Image:
			size_hint: None, None
			size: (root.width/4, root.height/4)
			source: "data/logo_uip2ALL.png"
	AnchorLayout:
		padding: 30
		Titulo:
			text: "Menu"
	log:
		id: log
	BotonM:
		bold: True
		text: "Materias"
		pos_hint:{'center_x': .7,'center_y': .525} 
		on_press: app.root.current = "materias"
	BotonM:
		bold: True
		text: "Perfil"
		pos_hint:{'center_x': .3,'center_y': .525} 
		on_press: app.root.current = "perfil"
	BotonM:
		bold: True
		text: "Calendario"
		pos_hint:{'center_x': .3,'center_y': .275} 
		on_press: app.root.current = "calendario"
	BotonM:
		bold: True
		text: "Eventos"
		pos_hint:{'center_x': .7,'center_y': .275}
		on_press: app.root.current = "eventos"
	Button: 
		bold: True
		text: "Log out"
		size_hint:(0.2, 0.1)
		background_color: 1, 0, 0, 0.5
		pos_hint:{'center_x': .9,'center_y': .9}
		on_press: 
			app.root.current = "intro"
			root.logout()
		
		

<Materias>:
	name: "materias"
	#grid:Data
	canvas.before:
		BorderImage:
			texture: self.background_image.texture
			pos: self.pos
			size: self.size
	AnchorLayout:
		anchor_x: "left"
        anchor_y: "top"
		Image:
			size_hint: None, None
			size: (root.width/4, root.height/4)
			source: "data/logo_uip2ALL.png"
	AnchorLayout:
		padding: 20
		Titulo:
			text: "[color=00BFFF]Materias[/color]"
	BotonAtras:
		on_press: app.root.current = "menu"

<Calendario>:
	name: "calendario"
	canvas.before:
		BorderImage:
			texture: self.background_image.texture
			pos: self.pos
			size: self.size
	AnchorLayout:
		anchor_x: "left"
        anchor_y: "top"
		Image:
			size_hint: None, None
			size: (root.width/4, root.height/4)
			source: "data/logo_uip2ALL.png"
	AnchorLayout:
		padding: 20
		Titulo:
			text: "[color=00BFFF]Calendario[/color]"	
    BotonAtras:
		on_press: app.root.current = "menu"

<Perfil>:
	name: "perfil"
	grid: Data
	on_enter:
		root.consultar()
	canvas.before:
		BorderImage:
			texture: self.background_image.texture
			pos: self.pos
			size: self.size
	AnchorLayout:
		anchor_x: "left"
        anchor_y: "top"
		Image:
			size_hint: None, None
			size: (root.width/4, root.height/4)
			source: "data/logo_uip2ALL.png"
	AnchorLayout:
		padding: 5
		Titulo:
			text: "[color=00BFFF]Perfil[/color]"
		BoxLayout:
			orientation: "vertical"
			height: "200dp"
			size_hint_y: None
			GridLayout:
				row_default_height: "5dp"
				spacing: "5dp"
				padding: "10dp"
				cols: 5
				id: Data
	BotonAtras:
		on_press: app.root.current = "menu"
	Boton:
		text: "Actualizar"
		on_press: root.Borrar()
		on_release: root.consultar()
		pos_hint:{'center_x': .5,'center_y': .2} 

<Eventos>:
	name: "eventos"
	canvas.before:
		BorderImage:
			texture: self.background_image.texture
			pos: self.pos
			size: self.size
	AnchorLayout:
		anchor_x: "left"
        anchor_y: "top"
		Image:
			size_hint: None, None
			size: (root.width/4, root.height/4)
			source: "data/logo_uip2ALL.png"
	AnchorLayout:
		padding: 20
		Titulo:
			text: "[color=00BFFF]Eventos[/color]"
	BotonAtras:
		on_press: app.root.current = "menu"



